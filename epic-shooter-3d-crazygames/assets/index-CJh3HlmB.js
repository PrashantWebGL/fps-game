import{C as t,V as e,E as s,S as i,M as o,a as n,R as a,G as r,B as h,b as c,P as l,c as d,d as m,e as p,f as u,O as y,g as w,h as f,i as g,j as x,k as v,l as b,m as k,n as M,o as L,W as T,A as E,H as C,D as z}from"./three-C7E_pQ-J.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const S=new s(0,0,0,"YXZ"),A=new e,I={type:"change"},D={type:"lock"},P={type:"unlock"},B=Math.PI/2;class j extends t{constructor(t,e=null){super(t,e),this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,this._onMouseMove=V.bind(this),this._onPointerlockChange=R.bind(this),this._onPointerlockError=F.bind(this),null!==this.domElement&&this.connect(this.domElement)}connect(t){super.connect(t),this.domElement.ownerDocument.addEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this._onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this._onPointerlockError)}dispose(){this.disconnect()}getDirection(t){return t.set(0,0,-1).applyQuaternion(this.object.quaternion)}moveForward(t){if(!1===this.enabled)return;const e=this.object;A.setFromMatrixColumn(e.matrix,0),A.crossVectors(e.up,A),e.position.addScaledVector(A,t)}moveRight(t){if(!1===this.enabled)return;const e=this.object;A.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(A,t)}lock(t=!1){this.domElement.requestPointerLock({unadjustedMovement:t})}unlock(){this.domElement.ownerDocument.exitPointerLock()}}function V(t){if(!1===this.enabled||!1===this.isLocked)return;const e=this.object;S.setFromQuaternion(e.quaternion),S.y-=.002*t.movementX*this.pointerSpeed,S.x-=.002*t.movementY*this.pointerSpeed,S.x=Math.max(B-this.maxPolarAngle,Math.min(B-this.minPolarAngle,S.x)),e.quaternion.setFromEuler(S),this.dispatchEvent(I)}function R(){this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(D),this.isLocked=!0):(this.dispatchEvent(P),this.isLocked=!1)}function F(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}class q{constructor(t,e,s,a){this.scene=t,this.velocity=s.normalize().multiplyScalar(50),this.owner=a,this.isDead=!1,this.life=2;const r=new i(.1,8,8),h=new o({color:"player"===a?16776960:16711680});this.mesh=new n(r,h),this.mesh.position.copy(e),this.previousPosition=e.clone(),this.scene.add(this.mesh)}update(t){this.life-=t,this.life<=0?this.isDead=!0:(this.previousPosition.copy(this.mesh.position),this.mesh.position.add(this.velocity.clone().multiplyScalar(t)),this.mesh.updateMatrixWorld(!0))}checkCollision(t){const s=(new e).subVectors(this.mesh.position,this.previousPosition),i=s.length();if(0===i)return!1;s.normalize();const o=new a(this.previousPosition,s,.01,i).intersectObject(t,!0);return o.length>0?o[0]:null}remove(){this.scene.remove(this.mesh)}get position(){return this.mesh.position}}class ${constructor(t,e){this.camera=t,this.scene=e,this.mesh=new r;const s=new h(.1,.1,.5),i=new c({color:3355443}),o=new n(s,i);o.position.set(0,0,0);const a=new h(.1,.2,.1),d=new n(a,i);d.position.set(0,-.1,.1),d.rotation.x=Math.PI/4,this.mesh.add(o),this.mesh.add(d),this.camera.add(this.mesh),this.mesh.position.set(.3,-.3,-.5),this.flashLight=new l(16755200,0,5),this.flashLight.position.set(0,0,-.6),this.mesh.add(this.flashLight),this.flashTimer=0,this.recoilTimer=0}shoot(t,s){if(this.recoilTimer>0)return;const i=new a;i.setFromCamera(new d(0,0),this.camera);const o=i.intersectObjects(this.scene.children,!0);let n=new e,r=null;for(let e=0;e<o.length;e++)if(o[e].distance>1){r=o[e];break}if(r)n.copy(r.point);else{const t=new e;this.camera.getWorldDirection(t),n.copy(this.camera.position).add(t.multiplyScalar(100))}const h=new e;this.mesh.getWorldPosition(h),h.y+=.1;const c=(new e).subVectors(n,h).normalize(),l=new q(this.scene,h,c,s);t.push(l),this.flashTimer=.05,this.recoilTimer=.1,this.mesh.position.z+=.1}update(t){this.flashTimer>0?(this.flashLight.intensity=2,this.flashTimer-=t):this.flashLight.intensity=0,this.recoilTimer>0?(this.recoilTimer-=t,this.mesh.position.z=m.lerp(this.mesh.position.z,-.5,10*t)):this.mesh.position.z=-.5}}function H(t=4872762){const e=new r,s=new r;s.position.y=.8,e.add(s);const o=new h(.8,1,.4),a=new c({color:t}),l=new n(o,a);l.position.y=.5,s.add(l);const d=new i(.3,8,8),m=new c({color:16767916}),y=new n(d,m);y.position.y=1.3,s.add(y);const w=new i(.32,8,8,0,2*Math.PI,0,Math.PI/2),f=new c({color:3820074}),g=new n(w,f);g.position.y=1.4,s.add(g);const x=new p(.12,.6,4,8),v=new c({color:t}),b=new n(x,v);b.position.set(-.5,.5,0),b.rotation.z=.3,s.add(b);const k=new n(x,v);k.position.set(.5,.5,0),k.rotation.z=-.3,s.add(k);const M=new p(.15,.8,4,8),L=new c({color:3820074}),T=new n(M,L);T.position.set(-.2,-.4,0),s.add(T);const E=new n(M,L);E.position.set(.2,-.4,0),s.add(E);const C=new r,z=new h(.1,.1,.6),S=new c({color:2236962}),A=new n(z,S);A.position.z=-.3,C.add(A);const I=new u(.03,.03,.3,8),D=new n(I,S);return D.rotation.x=Math.PI/2,D.position.set(0,0,-.6),C.add(D),C.position.set(.3,.6,-.4),C.rotation.y=-.2,s.add(C),e.userData.parts={head:y,body:l,leftArm:b,rightArm:k,leftLeg:T,rightLeg:E,gun:C},e}class O{constructor(){this.moveVector={x:0,y:0},this.lookVector={x:0,y:0},this.shouldShoot=!1,this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,this.moveTouchId=null,this.lookTouchId=null,this.isTouchDevice&&(this.initUI(),this.initListeners())}initUI(){const t=document.getElementById("touch-controls");t&&(t.style.display="block"),this.joystickKnob=document.getElementById("joystick-knob-left"),this.joystickZone=document.getElementById("joystick-zone-left"),this.lookZone=document.getElementById("look-zone-right"),this.shootBtn=document.getElementById("btn-shoot"),this.joystickCenter={x:0,y:0},this.maxRadius=60,this.lastLookX=0,this.lastLookY=0}initListeners(){this.joystickZone.addEventListener("touchstart",t=>{if(t.preventDefault(),null===this.moveTouchId){const e=t.changedTouches[0];this.moveTouchId=e.identifier;const s=this.joystickZone.getBoundingClientRect();this.joystickCenter={x:s.left+s.width/2,y:s.top+s.height/2},this.handleJoystick(e)}},{passive:!1}),this.joystickZone.addEventListener("touchmove",t=>{t.preventDefault();for(let e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier===this.moveTouchId){this.handleJoystick(t.changedTouches[e]);break}},{passive:!1}),this.joystickZone.addEventListener("touchend",t=>{t.preventDefault();for(let e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier===this.moveTouchId){this.resetJoystick(),this.moveTouchId=null;break}},{passive:!1}),this.lookZone.addEventListener("touchstart",t=>{if(t.preventDefault(),null===this.lookTouchId){const e=t.changedTouches[0];this.lookTouchId=e.identifier,this.lastLookX=e.clientX,this.lastLookY=e.clientY}},{passive:!1}),this.lookZone.addEventListener("touchmove",t=>{t.preventDefault();for(let e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier===this.lookTouchId){this.handleLook(t.changedTouches[e]);break}},{passive:!1}),this.lookZone.addEventListener("touchend",t=>{t.preventDefault();for(let e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier===this.lookTouchId){this.lookTouchId=null,this.lookVector={x:0,y:0};break}},{passive:!1}),this.shootBtn.addEventListener("touchstart",t=>{t.preventDefault(),this.shouldShoot=!0,this.shootBtn.style.transform="scale(0.9)"},{passive:!1}),this.shootBtn.addEventListener("touchend",t=>{t.preventDefault(),this.shouldShoot=!1,this.shootBtn.style.transform="scale(1)"},{passive:!1}),this.jumpBtn=document.getElementById("btn-jump"),this.jumpBtn&&(this.jumpBtn.addEventListener("touchstart",t=>{t.preventDefault(),this.shouldJump=!0,this.jumpBtn.style.transform="scale(0.9)"},{passive:!1}),this.jumpBtn.addEventListener("touchend",t=>{t.preventDefault(),this.shouldJump=!1,this.jumpBtn.style.transform="scale(1)"},{passive:!1}))}handleJoystick(t){const e=t.clientX-this.joystickCenter.x,s=t.clientY-this.joystickCenter.y,i=Math.sqrt(e*e+s*s),o=Math.min(i,this.maxRadius),n=Math.atan2(s,e),a=Math.cos(n)*o,r=Math.sin(n)*o;this.joystickKnob.style.transform=`translate(calc(-50% + ${a}px), calc(-50% + ${r}px))`,this.moveVector.x=-a/this.maxRadius,this.moveVector.y=r/this.maxRadius}resetJoystick(){this.joystickKnob.style.transform="translate(-50%, -50%)",this.moveVector={x:0,y:0}}handleLook(t){const e=t.clientX-this.lastLookX,s=t.clientY-this.lastLookY;this.lastLookX=t.clientX,this.lastLookY=t.clientY;this.lookVector.x=.008*e,this.lookVector.y=.008*s}getLookDelta(){const t={...this.lookVector};return this.lookVector={x:0,y:0},t}}class W{constructor(t,s,i){this.scene=t,this.soundManager=i,this.isDead=!1,this.health=100,this.speed=3,this.mesh=H(9109504);const o=Math.random()*Math.PI*2,n=20+10*Math.random();this.mesh.position.set(s.x+Math.cos(o)*n,0,s.z+Math.sin(o)*n),this.scene.add(this.mesh);const a=this.mesh.userData.parts;console.log("Enemy parts:",a),this.parts=a,this.head=a.head,this.torso=a.body,this.leftArm=a.leftArm,this.rightArm=a.rightArm,this.leftLeg=a.leftLeg,this.rightLeg=a.rightLeg,this.gun=a.gun,this.shootTimer=0,this.shootInterval=2,this.walkCycle=0,this.distanceTraveled=0,this.stepInterval=2.5,this.velocity=new e,this.isBroken=!1,this.deathTimer=0,this.debris=[]}update(t,s,i,o){if(this.isDead)return;if(this.isBroken)return this.updateDebris(t,o),this.deathTimer+=t,void(this.deathTimer>3&&(this.isDead=!0,this.cleanupDebris()));this.mesh.lookAt(s.x,0,s.z);const n=this.mesh.position.distanceTo(s);let r=!1;if(n>10){const i=(new e).subVectors(s,this.mesh.position).normalize();if(i.y=0,this.mesh.position.add(i.multiplyScalar(this.speed*t)),r=!0,this.distanceTraveled+=this.speed*t,this.distanceTraveled>this.stepInterval){const t=.5*Math.max(0,1-n/30);t>.01&&this.soundManager.playFootstep(t),this.distanceTraveled=0}}if(r?(this.walkCycle+=10*t,this.leftLeg.rotation.x=.5*Math.sin(this.walkCycle),this.rightLeg.rotation.x=.5*Math.sin(this.walkCycle+Math.PI),this.leftArm.rotation.x=.5*Math.sin(this.walkCycle+Math.PI),this.rightArm.rotation.x=.5*Math.sin(this.walkCycle),this.rightArm.rotation.x=Math.max(this.rightArm.rotation.x,-.2)):(this.leftLeg.rotation.x=0,this.rightLeg.rotation.x=0,this.leftArm.rotation.x=0,this.rightArm.rotation.x=-Math.PI/2),r&&!this.isBroken&&(Math.random()<.005&&this.mesh.position.y<=.1&&(this.velocity.y=8),Math.random()<.01)){const t=(new e).crossVectors(new e(0,1,0),(new e).subVectors(s,this.mesh.position).normalize()).normalize();Math.random()<.5&&t.negate(),this.velocity.x+=5*t.x,this.velocity.z+=5*t.z}this.velocity.y-=9.8*t,this.mesh.position.y+=this.velocity.y*t,this.mesh.position.x+=this.velocity.x*t,this.mesh.position.z+=this.velocity.z*t,this.velocity.x*=.9,this.velocity.z*=.9,this.mesh.position.y<0&&(this.mesh.position.y=0,this.velocity.y=0),this.shootTimer+=t;let h=!0;this.mesh.updateMatrixWorld(!0);const c=(new e).subVectors(s,this.mesh.position).normalize(),l=new a(new e(this.mesh.position.x,1.5,this.mesh.position.z),c,0,n);if(o){l.intersectObjects(o).length>0&&(h=!1)}this.shootTimer>=this.shootInterval&&n<20&&h&&(this.shoot(i,s),this.shootTimer=0)}shoot(t,s){const i=new e;this.gun.getWorldPosition(i);const o=(new e).subVectors(s,i).normalize();o.x+=.1*(Math.random()-.5),o.y+=.1*(Math.random()-.5),o.z+=.1*(Math.random()-.5);const n=new q(this.scene,i,o,"enemy");t.push(n);const a=this.mesh.position.distanceTo(s);Math.max(0,1-a/50)>.01&&this.soundManager.playGunshot(!0)}takeDamage(t,e,s){let i=1;i="head"===s?2:"torso"===s||"body"===s?1:.68;const o=t*i;this.health-=o,console.log(`Hit ${s}! Damage: ${o}, Health: ${this.health}`);const n=(t,e)=>{t.isMesh&&t.material?Array.isArray(t.material)?t.material.forEach(t=>t.emissive.setHex(e)):t.material.emissive.setHex(e):(t.isGroup||"Group"===t.type)&&t.children.forEach(t=>n(t,e))};this.parts[s]&&(n(this.parts[s],16777215),setTimeout(()=>{this.isDead||this.isBroken||!this.parts[s]||n(this.parts[s],0)},100)),this.health<=0&&!this.isBroken&&this.breakApart(e)}breakApart(t){this.isBroken=!0,this.deathTimer=0,this.debris=[];[this.head,this.torso,this.leftArm,this.rightArm,this.leftLeg,this.rightLeg,this.gun].forEach(s=>{s&&(this.scene.attach(s),this.debris.push({mesh:s,velocity:t.clone().multiplyScalar(.5).add(new e(5*(Math.random()-.5),5*Math.random(),5*(Math.random()-.5))),rotVel:new e(5*Math.random(),5*Math.random(),5*Math.random())}))}),this.mesh.visible=!1}updateDebris(t,e){this.debris.forEach(s=>{if(s.velocity.y-=9.8*t,s.mesh.position.add(s.velocity.clone().multiplyScalar(t)),s.mesh.rotation.x+=s.rotVel.x*t,s.mesh.rotation.y+=s.rotVel.y*t,s.mesh.rotation.z+=s.rotVel.z*t,s.mesh.position.y<.2&&(s.mesh.position.y=.2,s.velocity.y*=-.5,s.velocity.x*=.8,s.velocity.z*=.8),e){const i=(new w).setFromObject(s.mesh);for(const o of e){const e=(new w).setFromObject(o);if(i.intersectsBox(e)){s.velocity.x*=-.8,s.velocity.z*=-.8;const e=s.velocity.clone().normalize();s.mesh.position.add(e.multiplyScalar(2*t))}}}})}cleanupDebris(){this.debris.forEach(t=>{this.scene.remove(t.mesh),t.mesh.traverse(t=>{t.isMesh&&(t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(t=>t.dispose()):t.material.dispose()))})}),this.debris=[]}remove(){this.scene.remove(this.mesh),this.cleanupDebris()}}class X{constructor(t,e){this.scene=t,this.healAmount=15,this.isCollected=!1,this.rotationSpeed=2,this.bobSpeed=3,this.bobAmount=.2,this.time=0,this.mesh=new r;const s=new u(.15,.2,.5,8),i=new c({color:65280,emissive:65280,emissiveIntensity:.5,transparent:!0,opacity:.8}),o=new n(s,i);o.position.y=.25;const a=new u(.1,.1,.1,8),h=new c({color:9127187,metalness:.3}),d=new n(a,h);d.position.y=.55,this.glowLight=new l(65280,1,3),this.glowLight.position.y=.3,this.mesh.add(o),this.mesh.add(d),this.mesh.add(this.glowLight),this.mesh.position.copy(e),this.mesh.position.y=.5,this.baseY=this.mesh.position.y,this.scene.add(this.mesh)}update(t){this.isCollected||(this.time+=t,this.mesh.rotation.y+=this.rotationSpeed*t,this.mesh.position.y=this.baseY+Math.sin(this.time*this.bobSpeed)*this.bobAmount,this.glowLight.intensity=1+.3*Math.sin(4*this.time))}checkCollision(t){if(this.isCollected)return!1;return this.mesh.position.distanceTo(t)<.8}collect(){this.isCollected=!0;const t=new r;for(let r=0;r<20;r++){const s=new i(.05,4,4),a=new o({color:65280}),r=new n(s,a);r.position.copy(this.mesh.position),r.userData.velocity=new e(3*(Math.random()-.5),3*Math.random(),3*(Math.random()-.5)),t.add(r)}this.scene.add(t);let s=0;const a=()=>{s+=.016,t.children.forEach(t=>{t.position.add(t.userData.velocity.clone().multiplyScalar(.016)),t.userData.velocity.y-=9.8*.016,t.material.opacity=Math.max(0,1-2*s)}),s<.5?requestAnimationFrame(a):(this.scene.remove(t),t.children.forEach(t=>{t.geometry.dispose(),t.material.dispose()}))};return a(),this.healAmount}remove(){this.scene.remove(this.mesh),this.mesh.children.forEach(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}}function Z(){return"undefined"!=typeof window}function J(){try{}catch(t){}return"production"}function Y(){return"development"===((Z()?window.vam:J())||"production")}const N=new k;N.background=new M(8900331);const G=new L(75,window.innerWidth/window.innerHeight,.1,1e3),K=new T({antialias:!0});K.setSize(window.innerWidth,window.innerHeight),K.shadowMap.enabled=!0,document.body.appendChild(K.domElement);const _=new E(4210752,.6);N.add(_);const U=new C(8900331,4473924,.6);U.position.set(0,50,0),N.add(U);const Q=new z(16777215,.8);Q.position.set(10,20,10),Q.castShadow=!0,Q.shadow.camera.top=30,Q.shadow.camera.bottom=-30,Q.shadow.camera.left=-30,Q.shadow.camera.right=30,N.add(Q);const tt=new i(500,32,32),et=new o({color:8900331,side:x}),st=new n(tt,et);N.add(st);const it=[];function ot(t,s){const i=new r,o=new u(.5,.8,4,8),a=new c({color:9127187}),h=new n(o,a);h.position.y=2,h.castShadow=!0,i.add(h);const l=new b(3,6,8),d=new c({color:2263842}),m=new n(l,d);m.position.y=5,m.castShadow=!0,i.add(m),i.position.set(t,0,s),N.add(i),it.push(new e(t,0,s))}for(let At=0;At<50;At++){const t=At/50*Math.PI*2,e=45+5*Math.random();ot(Math.cos(t)*e,Math.sin(t)*e)}const nt=new class{constructor(t){this.scene=t,this.walls=[],this.floor=null}create(){this.createSky(),this.createFloor(),this.createForest(),this.createWalls(),this.createHouse(30,-30),this.createCemetery(-30,30)}createSky(){const t=new i(500,32,32),e=new o({color:8900331,side:x}),s=new n(t,e);this.scene.add(s)}createFloor(){const t=function(){const t=document.createElement("canvas");t.width=512,t.height=512;const e=t.getContext("2d");e.fillStyle="#3a5a40",e.fillRect(0,0,512,512);for(let i=0;i<5e4;i++){const t=512*Math.random(),s=512*Math.random(),i=3*Math.random()+1,o=Math.random();e.fillStyle=o<.3?"#588157":o<.6?"#344e41":"#6f4e37",e.globalAlpha=.6,e.fillRect(t,s,i,i)}e.globalAlpha=1;for(let i=0;i<20;i++){const t=512*Math.random(),s=512*Math.random(),i=50*Math.random()+20,o=e.createRadialGradient(t,s,0,t,s,i);o.addColorStop(0,"rgba(111, 78, 55, 0.8)"),o.addColorStop(1,"rgba(111, 78, 55, 0)"),e.fillStyle=o,e.beginPath(),e.arc(t,s,i,0,2*Math.PI),e.fill()}const s=new f(t);return s.wrapS=g,s.wrapT=g,s}();t.repeat.set(20,20);const e=new v(100,100),s=new c({map:t});this.floor=new n(e,s),this.floor.rotation.x=-Math.PI/2,this.floor.receiveShadow=!0,this.scene.add(this.floor)}createForest(){for(let t=0;t<50;t++){const e=t/50*Math.PI*2,s=45+5*Math.random(),i=Math.cos(e)*s,o=Math.sin(e)*s;this.createTree(i,o)}}createTree(t,e){const s=new r,i=new u(.5,.8,4,8),o=new c({color:9127187}),a=new n(i,o);a.position.y=2,a.castShadow=!0,s.add(a),this.walls.push(a);const h=new b(3,6,8),l=new c({color:2263842}),d=new n(h,l);d.position.y=5,d.castShadow=!0,s.add(d),this.walls.push(d),s.position.set(t,0,e),this.scene.add(s)}createWalls(){const t=function(){const t=document.createElement("canvas");t.width=512,t.height=512;const e=t.getContext("2d");e.fillStyle="#777",e.fillRect(0,0,512,512);for(let o=0;o<5e3;o++)e.fillStyle=Math.random()>.5?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",e.fillRect(512*Math.random(),512*Math.random(),2,2);const s=60;for(let o=0;o<512;o+=34){const t=Math.floor(o/34)%2*30;for(let i=-60;i<512;i+=64){const n=140+40*Math.random(),a=60+20*Math.random(),r=50+20*Math.random();e.fillStyle=`rgb(${n}, ${a}, ${r})`,e.fillRect(i+t,o,s,30);for(let h=0;h<10;h++)e.fillStyle="rgba(0,0,0,0.1)",e.fillRect(i+t+Math.random()*s,o+30*Math.random(),10*Math.random(),5*Math.random());e.fillStyle="rgba(255,255,255,0.1)",e.fillRect(i+t,o,s,2),e.fillStyle="rgba(0,0,0,0.3)",e.fillRect(i+t,o+30-2,s,2)}}const i=new f(t);return i.wrapS=g,i.wrapT=g,i}();t.repeat.set(.5,.5);const e=new c({map:t});[{x:0,z:-20,r:0,h:5},{x:0,z:20,r:0,h:5},{x:-20,z:0,r:Math.PI/2,h:5},{x:20,z:0,r:Math.PI/2,h:5},{x:-10,z:-10,r:0,h:2.5},{x:10,z:10,r:0,h:2.5},{x:-10,z:10,r:Math.PI/2,h:5},{x:10,z:-10,r:Math.PI/2,h:5},{x:0,z:0,r:0,h:2},{x:5,z:5,r:0,h:3},{x:-5,z:-5,r:0,h:1.5}].forEach(t=>{const s=t.h||5,i=new h(10,s,1),o=new n(i,e);o.position.set(t.x,s/2,t.z),o.rotation.y=t.r,o.castShadow=!0,o.receiveShadow=!0,this.scene.add(o),this.walls.push(o)})}createHouse(t,e){const s=new r;s.position.set(t,0,e);const i=new c({color:9127187}),o=new c({color:8388608}),a=.5,l=new n(new h(6,4,a),i);l.position.set(0,2,-3),s.add(l),this.walls.push(l);const d=new n(new h(a,4,6),i);d.position.set(-3,2,0),s.add(d),this.walls.push(d);const m=new n(new h(a,4,6),i);m.position.set(3,2,0),s.add(m),this.walls.push(m);const p=new n(new h(2,4,a),i);p.position.set(-2,2,3),s.add(p),this.walls.push(p);const u=new n(new h(2,4,a),i);u.position.set(2,2,3),s.add(u),this.walls.push(u);const y=new n(new h(2,1,a),i);y.position.set(0,3.5,3),s.add(y),this.walls.push(y);const w=new b(5,3,4),f=new n(w,o);f.position.y=5.5,f.rotation.y=Math.PI/4,s.add(f),this.scene.add(s),this.scene.remove(s);const g=(s,o,a,r,c,l)=>{const d=new n(new h(s,o,a),i);d.position.set(t+r,c,e+l),this.scene.add(d),this.walls.push(d)};g(6,4,a,0,2,-3),g(a,4,6,-3,2,0),g(a,4,6,3,2,0),g(2,4,a,-2,2,3),g(2,4,a,2,2,3),g(2,1,a,0,3.5,3);const x=new n(w,o);x.position.set(t,5.5,e),x.rotation.y=Math.PI/4,this.scene.add(x),this.walls.push(x)}createCemetery(t,e){const s=new c({color:3355443}),i=new h(.2,1.5,.2),o=10;for(let h=0;h<8;h++){const a=new n(i,s);a.position.set(t-5+h*o/8,.75,e-5),this.scene.add(a),this.walls.push(a);const r=new n(i,s);r.position.set(t-5+h*o/8,.75,e+5),this.scene.add(r),this.walls.push(r);const c=new n(i,s);c.position.set(t-5,.75,e-5+h*o/8),this.scene.add(c),this.walls.push(c);const l=new n(i,s);l.position.set(t+5,.75,e-5+h*o/8),this.scene.add(l),this.walls.push(l)}const a=new h(.6,.8,.2),r=new c({color:8947848});for(let h=0;h<5;h++){const s=new n(a,r),i=t+8*(Math.random()-.5),o=e+8*(Math.random()-.5);s.position.set(i,.4,o),s.rotation.y=.5*(Math.random()-.5),this.scene.add(s),this.walls.push(s)}}}(N);nt.create();const at=nt.walls,rt=[],ht=[],ct=new class{constructor(t){this.scene=t,this.particles=[]}createBlood(t,e){const s=new h(.05,.05,.05),i=new o({color:16711680});for(let o=0;o<10;o++){const o=new n(s,i);o.position.copy(t),o.position.x+=.2*(Math.random()-.5),o.position.y+=.2*(Math.random()-.5),o.position.z+=.2*(Math.random()-.5);const a=e.clone().multiplyScalar(-.2);a.x+=Math.random()-.5,a.y+=Math.random()-.5+1,a.z+=Math.random()-.5,this.particles.push({mesh:o,velocity:a,life:1}),this.scene.add(o)}}update(t){for(let e=this.particles.length-1;e>=0;e--){const s=this.particles[e];s.life-=t,s.life<=0?(this.scene.remove(s.mesh),this.particles.splice(e,1)):(s.velocity.y-=9.8*t,s.mesh.position.add(s.velocity.clone().multiplyScalar(t)),s.mesh.rotation.x+=5*t,s.mesh.rotation.y+=5*t)}}}(N),lt=new class{constructor(){this.ctx=new(window.AudioContext||window.webkitAudioContext),this.enabled=!1,document.addEventListener("click",()=>{"suspended"===this.ctx.state&&this.ctx.resume(),this.enabled=!0},{once:!0})}playFootstep(t=.5){if(!this.enabled||"running"!==this.ctx.state)return;const e=this.ctx.currentTime,s=.1*this.ctx.sampleRate,i=this.ctx.createBuffer(1,s,this.ctx.sampleRate),o=i.getChannelData(0);for(let h=0;h<s;h++)o[h]=2*Math.random()-1;const n=this.ctx.createBufferSource();n.buffer=i;const a=this.ctx.createBiquadFilter();a.type="lowpass",a.frequency.setValueAtTime(800,e),a.frequency.exponentialRampToValueAtTime(100,e+.1);const r=this.ctx.createGain();r.gain.setValueAtTime(t,e),r.gain.exponentialRampToValueAtTime(.01,e+.1),n.connect(a),a.connect(r),r.connect(this.ctx.destination),n.start(e)}playGunshot(t=!1){if(!this.enabled||"running"!==this.ctx.state)return;const e=this.ctx.currentTime,s=this.ctx.createOscillator();s.type=t?"triangle":"sine",s.frequency.setValueAtTime(t?120:150,e),s.frequency.exponentialRampToValueAtTime(40,e+.15);const i=this.ctx.createGain();i.gain.setValueAtTime(.5,e),i.gain.exponentialRampToValueAtTime(.01,e+.15),s.connect(i),i.connect(this.ctx.destination),s.start(e),s.stop(e+.15);const o=.3*this.ctx.sampleRate,n=this.ctx.createBuffer(1,o,this.ctx.sampleRate),a=n.getChannelData(0);for(let l=0;l<o;l++)a[l]=2*Math.random()-1;const r=this.ctx.createBufferSource();r.buffer=n;const h=this.ctx.createBiquadFilter();h.type="highpass",h.frequency.setValueAtTime(1e3,e);const c=this.ctx.createGain();c.gain.setValueAtTime(.8,e),c.gain.exponentialRampToValueAtTime(.01,e+.25),r.connect(h),h.connect(c),c.connect(this.ctx.destination),r.start(e)}},dt=new class{constructor(t,s,i,a){this.camera=t,this.scene=s,this.scene=s,this.soundManager=a,this.maxHealth=100,this.health=this.maxHealth,this.isDead=!1,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.velocity=new e,this.direction=new e,this.speed=10,this.jumpVelocity=8,this.gravity=-20,this.isOnGround=!1,this.dummyCamera=new y,this.dummyCamera.position.set(0,2,0),this.dummyCamera.rotation.order="YXZ",this.scene.add(this.dummyCamera),this.isThirdPerson=!1,this.hitbox=new n(new p(.5,1.8,4,8),new o({visible:!1})),this.scene.add(this.hitbox),this.playerModel=H(4872762),this.playerModel.visible=!1,this.scene.add(this.playerModel),this.weapon=new $(this.camera,s),this.distanceTraveled=0,this.stepInterval=2.5,this.touchControls=new O,this.initControls(i)}initControls(t){this.controls=new j(this.dummyCamera,t);document.addEventListener("keydown",t=>{switch(t.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"Space":!0===this.canJump&&(this.velocity.y+=15),this.canJump=!1;break;case"Digit3":this.isThirdPerson=!this.isThirdPerson,this.playerModel.visible=this.isThirdPerson,this.weapon.mesh.visible=!this.isThirdPerson}}),document.addEventListener("keyup",t=>{switch(t.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1}})}update(t,s){if(this.isDead)return;this.velocity.x-=10*this.velocity.x*t,this.velocity.z-=10*this.velocity.z*t,this.velocity.y-=9.8*3*t,this.touchControls.shouldJump&&this.canJump&&(this.velocity.y=this.jumpVelocity,this.canJump=!1,this.touchControls.shouldJump=!1);const i=this.touchControls.moveVector;let o=Number(this.moveBackward)-Number(this.moveForward),n=Number(this.moveLeft)-Number(this.moveRight);0===i.x&&0===i.y||(o+=i.y,n+=i.x),this.direction.set(n,0,o),this.direction.lengthSq()>0&&this.direction.normalize();const a=this.touchControls.getLookDelta();0===a.x&&0===a.y||(this.dummyCamera.rotation.y-=a.x,this.dummyCamera.rotation.x-=a.y,this.dummyCamera.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,this.dummyCamera.rotation.x)));const r=new e;this.dummyCamera.getWorldDirection(r),r.y=0,r.normalize();const h=new e;if(h.crossVectors(r,new e(0,1,0)).normalize(),0!==o||0!==n){const e=10*this.speed*t;this.velocity.add(r.clone().multiplyScalar(o*e)),this.velocity.add(h.clone().multiplyScalar(n*e))}const c=this.dummyCamera.position.clone();if(this.dummyCamera.position.x+=this.velocity.x*t,this.checkWallCollision(s)&&(this.dummyCamera.position.x=c.x,this.velocity.x=0),this.dummyCamera.position.z+=this.velocity.z*t,this.checkWallCollision(s)&&(this.dummyCamera.position.z=c.z,this.velocity.z=0),this.dummyCamera.position.y+=this.velocity.y*t,this.velocity.y<0){const t=this.dummyCamera.position.y-2;this.hitbox.position.copy(this.dummyCamera.position),this.hitbox.position.y-=1;const e=(new w).setFromObject(this.hitbox);for(const i of s){const s=(new w).setFromObject(i),o={minX:e.min.x,maxX:e.max.x,minZ:e.min.z,maxZ:e.max.z},n={minX:s.min.x,maxX:s.max.x,minZ:s.min.z,maxZ:s.max.z},a=o.minX<n.maxX&&o.maxX>n.minX,r=o.minZ<n.maxZ&&o.maxZ>n.minZ;a&&r&&t>=s.max.y-.5&&t<=s.max.y+.5&&(this.velocity.y=0,this.dummyCamera.position.y=s.max.y+2,this.canJump=!0,this.velocity.y<-5&&this.soundManager.playFootstep())}}if(this.dummyCamera.position.y<2&&(this.velocity.y=0,this.dummyCamera.position.y=2,this.canJump=!0,this.moveForward||this.moveBackward||this.moveLeft||this.moveRight)){const e=Math.sqrt(this.velocity.x**2+this.velocity.z**2);e>1&&(this.distanceTraveled+=e*t,this.distanceTraveled>this.stepInterval&&(this.soundManager.playFootstep(),this.distanceTraveled=0))}if(this.hitbox.position.copy(this.dummyCamera.position),this.hitbox.position.y-=1,this.playerModel.position.copy(this.hitbox.position),this.isThirdPerson){const t=new e(2.5,1.8,8);t.applyQuaternion(this.dummyCamera.quaternion),this.camera.position.copy(this.dummyCamera.position).add(t);const s=this.dummyCamera.position.clone(),i=new e(0,0,-6);i.applyQuaternion(this.dummyCamera.quaternion),s.add(i),this.camera.lookAt(s)}else this.camera.position.copy(this.dummyCamera.position),this.camera.quaternion.copy(this.dummyCamera.quaternion);this.weapon.update(t)}checkWallCollision(t){this.hitbox.position.copy(this.dummyCamera.position),this.hitbox.position.y-=1;const e=(new w).setFromObject(this.hitbox);e.expandByScalar(-.1);const s=this.dummyCamera.position.y-2;for(const i of t){const t=(new w).setFromObject(i);if(!(s>=t.max.y-.1)&&e.intersectsBox(t))return!0}return!1}shoot(t){this.isDead||(this.weapon.shoot(t,"player"),this.soundManager.playGunshot(!1))}takeDamage(t){this.health-=t;const e=document.getElementById("health-fill"),s=document.getElementById("health-value");e.style.width=this.health/this.maxHealth*100+"%",s.innerText=Math.max(0,Math.round(this.health)),this.health<=0&&this.die()}heal(t){this.health=Math.min(this.maxHealth,this.health+t);const e=document.getElementById("health-fill"),s=document.getElementById("health-value");e.style.width=this.health/this.maxHealth*100+"%",s.innerText=Math.round(this.health)}die(){this.isDead=!0,this.controls.unlock();const t=new CustomEvent("playerDied",{detail:{score:this.finalScore||0}});window.dispatchEvent(t)}setFinalScore(t){this.finalScore=t}get position(){return this.dummyCamera.position}}(G,N,document.body,lt);N.add(dt.hitbox),dt.dummyCamera.position.set(30,2,-20);let mt=performance.now(),pt=0,ut=0,yt=1,wt=!1;const ft=[],gt=document.getElementById("score-value"),xt=document.getElementById("instructions");window.addEventListener("resize",()=>{G.aspect=window.innerWidth/window.innerHeight,G.updateProjectionMatrix(),K.setSize(window.innerWidth,window.innerHeight)});let vt="",bt="easy";function kt(t,e,s){const i=function(){const t=localStorage.getItem("fpsLeaderboard");return t?JSON.parse(t):[]}();i.push({name:t||"Anonymous",score:e,difficulty:s||"easy",date:(new Date).toISOString()}),i.sort((t,e)=>e.score-t.score);const o=i.slice(0,10);return localStorage.setItem("fpsLeaderboard",JSON.stringify(o)),o}const Mt=/Mobi|Android/i.test(navigator.userAgent);function Lt(t){const e=document.getElementById("player-name");switch(vt=e.value.trim()||"Anonymous",bt=t,console.log("Starting game with difficulty:",t),t){case"easy":yt=1;break;case"medium":yt=2;break;case"hard":yt=4}wt=!0;try{Mt||(dt.controls.lock(),console.log("Pointer lock requested"))}catch(s){console.error("Pointer lock failed:",s)}xt.style.display="none",xt.style.visibility="hidden",xt.style.opacity="0"}document.getElementById("mobile-start");const Tt=document.getElementById("player-name"),Et=document.getElementById("btn-easy"),Ct=document.getElementById("btn-medium"),zt=document.getElementById("btn-hard"),St=[Et,Ct,zt];St.forEach(t=>{t.disabled=!0,t.style.opacity="0.5",t.style.cursor="not-allowed"}),Tt.addEventListener("input",t=>{vt=t.target.value;const e=vt.length>3;St.forEach(t=>{t.disabled=!e,t.style.opacity=e?"1":"0.5",t.style.cursor=e?"pointer":"not-allowed"})}),Et.addEventListener("click",()=>{vt.length>3&&Lt("easy")}),Ct.addEventListener("click",()=>{vt.length>3&&Lt("medium")}),zt.addEventListener("click",()=>{vt.length>3&&Lt("hard")}),window.addEventListener("playerDied",t=>{console.log("Player died event triggered, score:",pt),dt.setFinalScore(pt);const e=document.getElementById("instructions"),s=function(t){const e=kt(vt,t,bt);let s="";return 0===e.length?s='\n            <tr>\n                <td colspan="4" style="color: white; font-size: 20px; padding: 30px; text-align: center;">\n                    No scores yet! Be the first!\n                </td>\n            </tr>\n        ':e.forEach((e,i)=>{const o=e.name===vt&&e.score===t,n=(0===i?"ü•á":1===i?"ü•à":2===i?"ü•â":"")||i+1,a="hard"===e.difficulty?"üî¥":"medium"===e.difficulty?"üü°":"üü¢",r=(e.difficulty||"easy").toUpperCase();s+=`\n                <tr style="background: ${o?"#ffd70044":"transparent"}; border-left: 4px solid ${o?"#ffd700":"transparent"};">\n                    <td style="color: ${o?"#ffd700":"white"}; font-size: 20px; padding: 10px; text-align: center; font-weight: bold;">\n                        ${n}\n                    </td>\n                    <td style="color: ${o?"#ffd700":"white"}; font-size: 20px; padding: 10px; font-weight: ${o?"bold":"normal"};">\n                        ${e.name}\n                    </td>\n                    <td style="color: white; font-size: 16px; padding: 10px; text-align: center;">\n                        ${a} ${r}\n                    </td>\n                    <td style="color: #00ff88; font-size: 22px; padding: 10px; text-align: right; font-weight: bold;">\n                        ${e.score}\n                    </td>\n                </tr>\n            `}),`\n        <div style="background: #1a1a1aee; padding: 30px; border-radius: 20px; border: 3px solid #ffd700; max-width: 800px; max-height: 90vh; margin: 0 auto; display: flex; flex-direction: column;">\n            <h1 style="color: #ffd700; font-size: 36px; text-align: center; margin: 0 0 10px 0;">\n                üèÜ LEADERBOARD üèÜ\n            </h1>\n            \n            <p style="color: white; font-size: 18px; text-align: center; margin: 5px 0 15px 0;">\n                Your Score: <span style="color: #ffd700; font-size: 26px; font-weight: bold;">${t}</span>\n            </p>\n            \n            <div style="background: #00000066; padding: 15px; border-radius: 12px; border: 2px solid #ffd70066; overflow-y: auto; flex: 1;">\n                <table style="width: 100%; border-collapse: collapse; color: white;">\n                    <thead style="position: sticky; top: 0; background: #000000cc; z-index: 10;">\n                        <tr style="border-bottom: 2px solid #ffd700;">\n                            <th style="color: #ffd700; font-size: 14px; padding: 10px; text-align: center; text-transform: uppercase; letter-spacing: 1px;">\n                                Rank\n                            </th>\n                            <th style="color: #ffd700; font-size: 14px; padding: 10px; text-align: left; text-transform: uppercase; letter-spacing: 1px;">\n                                Name\n                            </th>\n                            <th style="color: #ffd700; font-size: 14px; padding: 10px; text-align: center; text-transform: uppercase; letter-spacing: 1px;">\n                                Level\n                            </th>\n                            <th style="color: #ffd700; font-size: 14px; padding: 10px; text-align: right; text-transform: uppercase; letter-spacing: 1px;">\n                                Score\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${s}\n                    </tbody>\n                </table>\n            </div>\n            \n            <button onclick="location.reload()" style="margin-top: 20px; padding: 15px 40px; font-size: 18px; font-weight: bold; cursor: pointer; background: #00ff00; color: black; border: none; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 255, 0, 0.3); transition: all 0.2s;">\n                üîÑ PLAY AGAIN\n            </button>\n        </div>\n    `}(pt);console.log("Leaderboard HTML generated, length:",s.length),e.innerHTML=s,e.style.display="block",e.style.visibility="visible",e.style.opacity="1",console.log("Instructions element updated and shown")}),document.addEventListener("click",()=>{dt.isDead||(wt&&!dt.controls.isLocked?dt.controls.lock():wt&&dt.shoot(rt))}),dt.controls.addEventListener("lock",()=>{console.log("Pointer locked"),xt.style.display="none"}),dt.controls.addEventListener("unlock",()=>{console.log("Pointer unlocked"),dt.isDead||(xt.style.display="block",xt.innerHTML="<h1>PAUSED</h1><p>Click to Resume</p>")}),setInterval(()=>{if((dt.controls.isLocked||Mt)&&ht.length<yt){let t,s=0;const i=5;for(;s<20;){const o=Math.random()*Math.PI*2,n=20+10*Math.random(),a=dt.dummyCamera.position.x+Math.cos(o)*n,r=dt.dummyCamera.position.z+Math.sin(o)*n;if(Math.hypot(a-dt.dummyCamera.position.x,r-dt.dummyCamera.position.z)<i){s++;continue}let h=!1;for(const t of it){if(Math.hypot(a-t.x,r-t.z)<2){h=!0;break}}if(h){s++;continue}let c=!0;for(const t of at)if(new e(a,0,r).distanceTo(t.position)<2){c=!1;break}if(c){t=new e(a,0,r);break}s++}if(t){const e=new W(N,dt.position,lt);e.mesh.position.set(t.x,0,t.z),ht.push(e)}}},2e3),function(t={debug:!0}){var e;if(!Z())return;!function(t="auto"){window.vam="auto"!==t?t:J()}(t.mode),window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)}),t.beforeSend&&(null==(e=window.va)||e.call(window,"beforeSend",t.beforeSend));const s=function(t){return t.scriptSrc?t.scriptSrc:Y()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}(t);if(document.head.querySelector(`script[src*="${s}"]`))return;const i=document.createElement("script");i.src=s,i.defer=!0,i.dataset.sdkn="@vercel/analytics"+(t.framework?`/${t.framework}`:""),i.dataset.sdkv="1.6.0",t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const t=Y()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${s}. ${t}`)},Y()&&!1===t.debug&&(i.dataset.debug="false"),document.head.appendChild(i)}(),function t(){requestAnimationFrame(t);const e=performance.now(),s=(e-mt)/1e3;if(mt=e,wt&&(dt.controls.isLocked||Mt)){dt.update(s,at),dt.touchControls.shouldShoot&&dt.shoot(rt);for(let t=ft.length-1;t>=0;t--){const e=ft[t];if(e.update(s),e.checkCollision(dt.dummyCamera.position)){const s=e.collect();dt.heal(s),e.remove(),ft.splice(t,1)}}for(let t=rt.length-1;t>=0;t--){const e=rt[t];if(e.update(s),e.isDead){e.remove(),rt.splice(t,1);continue}let i=null;for(const t of at){const s=e.checkCollision(t);s&&(!i||s.distance<i.distance)&&(i={type:"wall",distance:s.distance,point:s.point,object:t})}if("player"===e.owner)for(let t=ht.length-1;t>=0;t--){const s=ht[t];for(const[o,n]of Object.entries(s.parts)){const a=e.checkCollision(n);a&&(!i||a.distance<i.distance)&&(i={type:"enemy",distance:a.distance,point:a.point,enemy:s,partName:o,enemyIndex:t})}}else if("enemy"===e.owner){const t=e.checkCollision(dt.hitbox);t&&(!i||t.distance<i.distance)&&(i={type:"player",distance:t.distance,point:t.point})}if(i)if("wall"===i.type)e.remove(),rt.splice(t,1);else if("enemy"===i.type){const s=i.enemy;if(s.takeDamage(50,e.velocity,i.partName),ct.createBlood(e.position,e.velocity),e.remove(),rt.splice(t,1),s.isDead){const t=s.mesh.position.clone();if(s.remove(),ht.splice(i.enemyIndex,1),pt+=100,gt.innerText=pt,ut++,ut%6==0){const e=new X(N,t);ft.push(e)}}}else"player"===i.type&&(dt.takeDamage(10),ct.createBlood(e.position,e.velocity),e.remove(),rt.splice(t,1));else;}for(let t=ht.length-1;t>=0;t--)ht[t].update(s,dt.position,rt,at),ht[t].isDead&&(ht[t].remove(),ht.splice(t,1),pt+=100,gt.innerText=pt);ct.update(s)}K.render(N,G)}();
